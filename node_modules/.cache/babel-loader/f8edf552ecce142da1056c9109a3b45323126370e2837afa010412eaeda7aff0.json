{"ast":null,"code":"import'../styles/Registration.css';import{Link}from\"react-router-dom\";import{Navbar}from'../components/Navbar';import{Footer}from'../components/Footer';import bann1 from'../images/img1..jpeg';import{useNavigate}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const navigate=useNavigate();const[users,setUsers]=useState([]);const[user,setUser]=useState({id:\"\",name:\"\",email:\"\",password:\"\"});const[editing,setEditing]=useState(false);const[error,setError]=useState(\"\");// Error state\nuseEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await axios.get(`http://13.127.202.65:8080/api/users`);setUsers(response.data);setError(\"\");// Clear error on success\n}catch(error){setError(\"Failed to fetch users. Please try again later.\");console.error(\"Fetch Error: \",error);}};const handleChange=e=>{setUser({...user,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();if(!user.name||!user.email){setError(\"Name and Email are required!\");return;}try{if(editing){await axios.put(`http://13.127.202.65:8080/api/users/${user.id}`,user);}else{await axios.post(`http://13.127.202.65:8080/api/users`,user);}setUser({id:\"\",name:\"\",email:\"\",password:\"\"});setEditing(false);setError(\"\");fetchUsers();navigate(\"/dashboard\");}catch(error){setError(\"Failed to save user. Please try again.\");console.error(\"Save Error:\",error);}};const editUser=user=>{setUser(user);setEditing(true);setError(\"\");};const deleteUser=async id=>{if(!window.confirm(\"Are you sure you want to delete this user?\")){return;}try{await axios.delete(`http://13.127.202.65:8080/api/users/${id}`);fetchUsers();}catch(error){setError(\"Failed to delete user. Please try again.\");console.error(\"Delete Error:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_body_leftside\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Sign up to continue\",/*#__PURE__*/_jsx(\"br\",{}),\"your learning journey\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"signup_form1\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:user.name,placeholder:\"Enter Name\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:user.email,placeholder:\"Enter Email\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:user.password,placeholder:\"Enter Password\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signup_link\",children:editing?\"Update User\":\"Create Account\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"By signing up, you agree to our \",/*#__PURE__*/_jsx(Link,{to:\"\",children:\"Terms of Use\"}),\" and \",/*#__PURE__*/_jsx(Link,{to:\"\",children:\"Privacy Policy.\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]}),/*#__PURE__*/_jsx(\"img\",{src:bann1,alt:\"study\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default SignUp;","map":{"version":3,"names":["Link","Navbar","Footer","bann1","useNavigate","React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","SignUp","navigate","users","setUsers","user","setUser","id","name","email","password","editing","setEditing","error","setError","fetchUsers","response","get","data","console","handleChange","e","target","value","handleSubmit","preventDefault","put","post","editUser","deleteUser","window","confirm","delete","className","children","onSubmit","type","placeholder","onChange","required","to","src","alt"],"sources":["C:/olp/src/pages/SignUp.js"],"sourcesContent":["import '../styles/Registration.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar } from '../components/Navbar';\r\nimport { Footer } from '../components/Footer';\r\nimport bann1 from '../images/img1..jpeg';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst SignUp = () => {\r\n    const navigate = useNavigate();\r\n    const [users, setUsers] = useState([]);\r\n    const [user, setUser] = useState({ id: \"\", name: \"\", email: \"\" , password: \"\"});\r\n    const [editing, setEditing] = useState(false);\r\n    const [error, setError] = useState(\"\"); // Error state\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const response = await axios.get(`http://13.127.202.65:8080/api/users`);\r\n            setUsers(response.data);\r\n            setError(\"\"); // Clear error on success\r\n        } catch (error) {\r\n            setError(\"Failed to fetch users. Please try again later.\");\r\n            console.error(\"Fetch Error: \", error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleChange = (e) => {\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!user.name || !user.email) {\r\n            setError(\"Name and Email are required!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (editing) {\r\n                await axios.put(`http://13.127.202.65:8080/api/users/${user.id}`, user);\r\n            } else {\r\n                await axios.post(`http://13.127.202.65:8080/api/users`, user);\r\n            }\r\n        \r\n            setUser({ id: \"\", name: \"\", email: \"\", password: \"\"});\r\n            setEditing(false);\r\n            setError(\"\");\r\n            fetchUsers();\r\n\r\n            navigate(\"/dashboard\"); \r\n        } catch (error) {\r\n            setError(\"Failed to save user. Please try again.\");\r\n            console.error(\"Save Error:\", error);\r\n        } \r\n    };\r\n\r\n    const editUser = (user) => {\r\n        setUser(user);\r\n        setEditing(true);\r\n        setError(\"\");\r\n    };\r\n    \r\n    const deleteUser = async (id) => {\r\n        if (!window.confirm(\"Are you sure you want to delete this user?\")) {\r\n            return;\r\n        }\r\n    \r\n        try {\r\n            await axios.delete(`http://13.127.202.65:8080/api/users/${id}`);\r\n            fetchUsers();\r\n        } catch (error) {\r\n            setError(\"Failed to delete user. Please try again.\");\r\n            console.error(\"Delete Error:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"signup\">\r\n            <Navbar />\r\n            <div className=\"signup_body\">\r\n                <div className=\"signup_body_leftside\">\r\n                    <h1>Sign up to continue<br/>your learning journey</h1>\r\n                        <form className=\"signup_form1\" onSubmit={handleSubmit}>\r\n                            <input type=\"text\" name=\"name\" value={user.name} \r\n                                placeholder=\"Enter Name\" onChange={handleChange} \r\n                                required \r\n                            />\r\n                            <input type=\"email\" name=\"email\" value={user.email} \r\n                                placeholder=\"Enter Email\" onChange={handleChange} \r\n                                required \r\n                            />\r\n                            <input type=\"password\" name=\"password\" value={user.password} \r\n                                placeholder=\"Enter Password\" onChange={handleChange} \r\n                                required \r\n                            />\r\n\r\n                            <button type=\"submit\" className='signup_link'>\r\n                                {editing ? \"Update User\" : \"Create Account\"}\r\n                            </button>\r\n                        </form>\r\n                        {/* <Link to = \"/dashboard\" className='signup_link'>Create Account</Link> */}\r\n                    <p>By signing up, you agree to our <Link to=\"\">Terms of Use</Link> and <Link to=\"\">Privacy Policy.</Link></p>\r\n                    <p>Already have an account? <Link to=\"/login\">Login</Link></p>\r\n                </div>\r\n                <img src={bann1} alt=\"study\" />\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}